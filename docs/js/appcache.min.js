!function($,e,a,o){AppCache=$.extend(e.applicationCache,{debug:!1,autoswap:!0,showUpdateProgress:!0,showUpdateNotice:!0,handleLogout:!1,logoutLink:"a[href*=logout]",appStatus:"online",appEvents:{},filesDownloaded:0,totalFiles:0,mobileIndicator:"#mobile-refresh",getTotalFiles:function(){AppCache.filesDownloaded=0;var e=localStorage.getItem("appCacheTotalFiles")?JSON.parse(localStorage.getItem("appCacheTotalFiles")):0;return AppCache.totalFiles=e,e?e:void $.ajax({type:"GET",url:"manifest.appcache",dataType:"text",cache:!1,success:function(e){e=e.replace(new RegExp("(NETWORK|FALLBACK):((?!(NETWORK|FALLBACK|CACHE):)[\\w\\W]*)","gi"),""),e=e.replace(new RegExp("#[^\\r\\n]*(\\r\\n?|\\n)","g"),""),e=e.replace(new RegExp("CACHE MANIFEST\\s*|\\s*$","g"),""),e=e.replace(new RegExp("[\\r\\n]+","g"),"#");var a=e.split("#").length+1;return AppCache.totalFiles=a,localStorage.setItem("appCacheTotalFiles",JSON.stringify(a)),a}})},reloadCaches:function(a){$(AppCache).on("updateready",function(o){a.remove(),e.location.reload()},!1),AppCache.update()}}),$(AppCache).on("checking",function(e){$("#appcache-update-progress").addClass("slidein")}),$(AppCache).on("updateready",function(a){if((AppCache.autoswap||AppCache.showUpdateNotice)&&AppCache.swapCache(),AppCache.showUpdateNotice){var o=function(){$("#dl-modal-update").modal("hide")};o(),$("#appcache-update-progress").addClass("slideout"),"undefined"!=typeof navigator.standalone&&navigator.standalone&&$(AppCache.mobileIndicator).css("text-shadow","0 0 5px #fff"),$("#dl-modal-update").modal("show"),$("body").on("click","#dl-update",function(){localStorage.setItem("manual-updated","true"),setTimeout(function(){e.location.reload()},300)})}}),$(AppCache).on("downloading",function(e){AppCache.getTotalFiles(),$("#appcache-update-progress").hasClass("slidein")||$("#appcache-update-progress").addClass("slidein")}),$(AppCache).on("progress",function(e){if(filesDownloaded=AppCache.filesDownloaded++,localStorage.setItem("appCacheTotalFiles",JSON.stringify(filesDownloaded)),AppCache.showUpdateProgress){var a=100*filesDownloaded/AppCache.totalFiles,o=$("#appcache-progress-status");o.css("width",a+"%"),100==a&&setTimeout(function(){$("#appcache-update-progress").removeClass("slidein")},1e3)}}),$(AppCache).on("cached",function(e){setTimeout(function(){$("#appcache-update-progress").removeClass("slidein")},1e3)}),AppCache.handleLogout&&$(AppCache.logoutLink).on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).append($('<span id="logout-loading"><span>&nbsp;&nbsp;</span><i class="icon-spinner icon-spin"></i></span>')),$.ajax({url:$(this).attr("href"),type:"GET"}).done(function(e){AppCache.reloadCaches($("#logout-loading"))})})}(window.jQuery||window.Zepto,window,document);